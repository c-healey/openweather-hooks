{"version":3,"sources":["apis/config.js","apis/FlowersIcons.js","hooks/useLocation.js","hooks/useWeather.js","components/CurrentWeather.js","components/Forecast.js","components/Header.js","components/App.js","index.js"],"names":["API_BASE_URL","API_CURRENT_WEATHER_URL","process","API_FORECAST_WEATHER_URL","flowers","useLocation","lt","lg","useState","lat","setLat","lng","setLng","useEffect","a","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","console","log","getLocation","useWeather","urlInput","response","setResponse","url","axios","get","data","getData","CurrentWeather","useParams","current","feels_like","temp","icon","weather","className","Math","ceil","Forecast","props","city","name","options","month","day","rows","list","map","hour","date","Date","dt","toLocaleTimeString","toLocaleDateString","undefined","main","renderForecastCard","Header","to","pathname","App","path","component","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gNAAaA,EAAe,iCACfC,EAAuB,UACjCD,EADiC,iFACoDE,oCAC3EC,EAAwB,UAClCH,EADkC,mDACqBE,oCCO7CE,EAAU,CAEvB,MAAM,iBACN,MAAM,iBACN,MAAM,gBACN,MAAM,sBAEN,MAAM,WACN,MAAM,WACN,MAAM,YACN,MAAM,YACN,MAAM,UACN,MAAM,UACN,MAAM,cACN,MAAM,oBACN,MAAM,sBACN,MAAM,6BACN,MAAM,oBACN,MAAM,oBACN,MAAM,U,wDCESC,EA9BK,WAA2B,IAA1BC,EAAyB,uDAApB,KAAMC,EAAc,uDAAT,KAAS,EACxBC,mBAAS,MADe,mBACvCC,EADuC,KAClCC,EADkC,OAExBF,mBAAS,MAFe,mBAEvCG,EAFuC,KAElCC,EAFkC,KA2B5C,OAvBAC,qBAAU,WACJP,GAAMC,IACRG,EAAOJ,GACPM,EAAOL,MAGR,CAACD,EAAIC,IAERM,qBAAU,WAWHJ,GAAQE,GATI,uCAAG,sBAAAG,EAAA,sEACZC,UAAUC,YAAYC,mBAAtB,uCACJ,WAAOC,GAAP,SAAAJ,EAAA,sDACEJ,EAAOQ,EAASC,OAAOC,UACvBR,EAAOM,EAASC,OAAOE,WAFzB,2CADI,uDAKJ,kBAAMC,QAAQC,IAAI,6BANF,2CAAH,oDAWfC,KACD,CAACf,EAAKE,IACF,CAACF,EAAKE,ICAAc,EAxBI,SAACC,GAAoC,IAA1BpB,EAAyB,uDAApB,KAAMC,EAAc,uDAAT,KAAS,EAClCF,EAAYC,EAAIC,GADkB,mBAC9CE,EAD8C,KACzCE,EADyC,OAErBH,mBAAS,MAFY,mBAE9CmB,EAF8C,KAEpCC,EAFoC,KAsBrD,OAlBAf,qBAAU,WAYJJ,GAAOE,GAVE,uCAAG,WAAOkB,GAAP,iBAAAf,EAAA,+EAEWgB,IAAMC,IAAIF,GAFrB,iBAEJG,EAFI,EAEJA,OAENJ,EAAYI,GAJF,gDAOZV,QAAQC,IAAR,MAPY,yDAAH,qDAYXU,CAAQ,GAAD,OAAIP,EAAJ,gBAAoBjB,EAApB,gBAA+BE,MAEvC,CAACF,EAAKE,EAAKe,IAEPC,G,OCuBMO,EAzCQ,WAAO,IAAD,EAEVC,cAAX7B,EAFqB,EAErBA,GAAIC,EAFiB,EAEjBA,GAGJyB,EAAOP,EAAWxB,EAAyBK,EAAIC,GAMrD,GALFM,qBAAU,cAGP,CAACmB,EAAM1B,EAAIC,KAEPyB,IAASA,EAAKI,QACjB,OAAO,6CAZkB,MAeWJ,EAAKI,QAAnCC,EAfmB,EAenBA,WAAYC,EAfO,EAePA,KAEZC,EAjBmB,EAeDC,QAED,GAAjBD,KAGR,OACE,sBAAKE,UAAU,kBAAf,UACE,qBAAKA,UAAU,gBAAf,6BACA,qBAAKA,UAAU,qBAAf,SACE,sBAAKA,UAAU,eAAf,UACE,qBAAKA,UAAU,OAAf,SACE,mBAAGA,UAAS,0BAAqBrC,EAAQmC,QAE3C,sBAAKE,UAAU,oBAAf,UACGC,KAAKC,KAAKL,GADb,IACoB,sBAAMG,UAAU,WADpC,OAGA,sBAAKA,UAAU,QAAf,uBACaC,KAAKC,KAAKN,GACrB,sBAAMI,UAAU,WAFlB,gBCeKG,G,MA9CE,SAACC,GAAW,IAAD,EACTV,cAAX7B,EADoB,EACpBA,GAAIC,EADgB,EAChBA,GAEJyB,EAAOP,EAAWtB,EAA0BG,EAAIC,GAEtD,IAAKyB,EACH,OAAO,6CA8BT,OACE,sBAAKS,UAAU,cAAf,UACE,qBAAKA,UAAU,aAAf,SACE,0CAAaT,EAAKc,KAAKC,UAGzB,qBAAKN,UAAU,cAAf,SAhCuB,WACzB,IAAMO,EAAU,CAAEC,MAAO,UAAWC,IAAK,WAEnCC,EAAOnB,EAAKoB,KAAKC,KAAI,SAACC,GAC1B,IAAMC,EAAO,IAAIC,KAAe,IAAVF,EAAKG,IAE3B,OACE,sBAAKhB,UAAU,4BAAf,UACE,sBAAKA,UAAU,4BAAf,UACE,4BAAIc,EAAKG,mBAAmB,GAAI,CAAEJ,KAAM,cACxC,4BAAIC,EAAKI,wBAAmBC,EAAWZ,KAAc,OAEvD,sBAAMP,UAAU,OAAhB,SACE,mBACEA,UAAS,0BAAqBrC,EAAQkD,EAAKd,QAAQ,GAAGD,WAG1D,uBAAME,UAAU,6BAAhB,UACE,+BAAOC,KAAKC,KAAKW,EAAKO,KAAKvB,QAC3B,sBAAMG,UAAU,gBAFlB,SAV8Ca,EAAKG,OAiBzD,OAAO,8BAAMN,IAQmBW,UCVrBC,EArCA,WAAO,IAAD,EAEF1D,IAFE,mBAEdI,EAFc,KAETE,EAFS,KAanB,OACE,sBAAK8B,UAAU,6BAAf,UACE,cAAC,IAAD,CACEuB,GAAI,CACFC,SAAS,IAAD,OAAMxD,EAAN,YAAaE,IAIvB8B,UAAU,OANZ,6BAUA,cAAC,IAAD,CACEuB,GAAI,CACFC,SAAS,aAAD,OAAexD,EAAf,YAAsBE,IAIhC8B,UAAU,OANZ,0BCPSyB,MAff,WAGE,OACE,qBAAKzB,UAAU,mBAAf,SACE,eAAC,IAAD,WAEE,cAAC,EAAD,IACA,cAAC,IAAD,CAAO0B,KAAK,sBAAsBC,UAAWxB,IAC7C,cAAC,IAAD,CAAOuB,KAAK,aAAaE,OAAK,EAACD,UAAWlC,UCZlDoC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.85a57912.chunk.js","sourcesContent":["export const API_BASE_URL = 'https://api.openweathermap.org';\r\nexport const API_CURRENT_WEATHER_URL = \r\n`${API_BASE_URL}/data/2.5/onecall?units=imperial&exclude=hourly,minutely,alerts&appid=${process.env.REACT_APP_OPEN_WEATHER_DEFAULT_KEY}`\r\nexport const API_FORECAST_WEATHER_URL = \r\n`${API_BASE_URL}/data/2.5/forecast?units=imperial&appid=${process.env.REACT_APP_OPEN_WEATHER_DEFAULT_KEY}`\r\n\r\n\r\n// http://api.openweathermap.org/data/2.5/forecast?q=Detroit,us&appid=48db6016cb32f4b78da9eae4ccd4859d&units=imperial\r\n\r\n// https://api.openweathermap.org/data/2.5/onecall?lat=43.441792&lon=-89.037689&exclude=hourly,minutely,alerts&units=imperial&appid=48db6016cb32f4b78da9eae4ccd4859d\r\n\r\n// exclude=hourly,minutely,alerts","// Day icon\tNight icon\tDescription\r\n// 01d.png \t01n.png \tclear sky\r\n// 02d.png \t02n.png \tfew clouds\r\n// 03d.png \t03n.png \tscattered clouds\r\n// 04d.png \t04n.png \tbroken clouds\r\n// 09d.png \t09n.png \tshower rain\r\n// 10d.png \t10n.png \train\r\n// 11d.png \t11n.png \tthunderstorm\r\n// 13d.png \t13n.png \tsnow\r\n// 50d.png \t50n.png \tmist\r\n\r\nexport const flowers = {\r\n\r\n'01d':'wi-owm-day-800', //  clear sky\r\n'01n':'wi-night-clear',\r\n'02d':'wi-day-cloudy',  //few clouds\r\n'02n':'wi-night-alt-cloudy',\r\n\r\n'03d':'wi-cloud', //  scattered clouds\r\n'03n':'wi-cloud',\r\n'04d':'wi-cloudy',  //  broken clouds\r\n'04n':'wi-cloudy',\r\n'09d':'wi-rain', //  shower rain\r\n'09n':'wi-rain',\r\n'10d':'wi-day-rain',  //  rain\r\n'10n':'wi-night-alt-rain',\r\n'11d':'wi-day-thunderstorm',  //thunderstorm\r\n'11n':'wi-night-alt-storm-showers',\r\n'13d':'wi-snowflake-cold',  //  snow\r\n'13n':'wi-snowflake-cold',\r\n'50d':'wi-fog',  //   mist\r\n\r\n}","import { useState, useEffect } from \"react\";\r\n\r\nconst useLocation = (lt = null, lg = null) => {\r\n  let [lat, setLat] = useState(null);\r\n  let [lng, setLng] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (lt && lg) {\r\n      setLat(lt);\r\n      setLng(lg);\r\n      // console.log(\"useLocation lt, lg changed set lat, lng\", lt, lg);\r\n    }\r\n  }, [lt, lg]);\r\n\r\n  useEffect(() => {\r\n    \r\n    const getLocation = async () => {\r\n      await navigator.geolocation.getCurrentPosition(\r\n        async (position) => {\r\n          setLat(position.coords.latitude);\r\n          setLng(position.coords.longitude);\r\n        },\r\n        () => console.log(\"error getting location\")\r\n      );\r\n    };\r\n    if (!lat || !lng){ \r\n      // console.log(\"useLocation  lat, lng changed \", lat, lng);\r\n      getLocation();}\r\n  }, [lat, lng]);\r\n  return [lat, lng];\r\n};\r\n\r\nexport default useLocation;\r\n","import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport useLocation from \"./useLocation\";\r\n\r\nconst useWeather = (urlInput, lt = null, lg = null) => {\r\n  const [lat, lng] = useLocation(lt, lg);\r\n  const [response, setResponse] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // console.log(\"useWeather lat lng changed\");\r\n    const getData = async (url) => {\r\n      try {\r\n        const { data } = await axios.get(url);\r\n        if (data) {\r\n          setResponse(data);\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    if (lat && lng) {\r\n      // console.log(\"Get weather for \", lat, lng);\r\n      getData(`${urlInput}&lat=${lat}&lon=${lng}`);\r\n    }\r\n  }, [lat, lng, urlInput]);\r\n\r\n  return response;\r\n};\r\nexport default useWeather;\r\n","import React, {useEffect}from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport { API_CURRENT_WEATHER_URL } from \"../apis/config\";\r\nimport { flowers } from \"../apis/FlowersIcons\";\r\nimport \"./CurrentWeather.css\";\r\n\r\nimport useWeather from \"../hooks/useWeather\";\r\n\r\nconst CurrentWeather = () => {\r\n\r\n  let { lt, lg } = useParams();\r\n  \r\n\r\n  const data = useWeather(API_CURRENT_WEATHER_URL, lt, lg);\r\nuseEffect(()=>{\r\n  // console.log('current weather data changed, lt, lg', lt, lg)\r\n\r\n}, [data, lt, lg]);\r\n\r\n  if (!data || !data.current) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  const { feels_like, temp, weather } = data.current;\r\n\r\n  const { icon } = weather[0];\r\n  // console.log(data);\r\n  // console.log(\"current weather data\", feels_like, temp, icon);\r\n  return (\r\n    <div className=\"ui weather-card\">\r\n      <div className=\"weather-label\">Current Weather</div>\r\n      <div className=\"ui  weather-header\">\r\n        <div className=\"ball ui list\">\r\n          <div className=\"item\">\r\n            <i className={`weather-icon wi ${flowers[icon]}`}></i>\r\n          </div>\r\n          <div className=\"item weather-temp\">\r\n            {Math.ceil(temp)} <span className=\"degree\"></span>F\r\n          </div>\r\n          <div className=\"item \">\r\n            Real Feel {Math.ceil(feels_like)}\r\n            <span className=\"degree\"></span>F\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CurrentWeather;\r\n","import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { API_FORECAST_WEATHER_URL } from \"../apis/config\";\r\n\r\nimport { flowers } from \"../apis/FlowersIcons\";\r\nimport useWeather from \"../hooks/useWeather\";\r\nimport \"./Forecast.css\";\r\nimport \"./CurrentWeather.css\";\r\n\r\nconst Forecast = (props) => {\r\n  let { lt, lg } = useParams();\r\n  // console.log('FORCAST lt, lg', lt, lg)\r\n  const data = useWeather(API_FORECAST_WEATHER_URL, lt, lg);\r\n\r\n  if (!data) {\r\n    return <div>Loading...</div>;\r\n  }\r\n  // console.log(\"FORECAST WEATHER\", data);\r\n\r\n  const renderForecastCard = () => {\r\n    const options = { month: \"numeric\", day: \"numeric\" };\r\n\r\n    const rows = data.list.map((hour) => {\r\n      const date = new Date(hour.dt * 1000);\r\n\r\n      return (\r\n        <div className=\"ui fluid three item menu \" key={hour.dt}>\r\n          <div className=\" item forecast-card-dt-tm\">\r\n            <p>{date.toLocaleTimeString([], { hour: \"2-digit\" })}</p>\r\n            <p>{date.toLocaleDateString(undefined, options)}</p>{\" \"}\r\n          </div>\r\n          <span className=\"item\">\r\n            <i\r\n              className={`weather-icon wi ${flowers[hour.weather[0].icon]}`}\r\n            ></i>\r\n          </span>\r\n          <span className=\"item flex-top weather-temp\">\r\n            <span>{Math.ceil(hour.main.temp)}</span>\r\n            <span className=\"degree-dark\"></span>F\r\n          </span>\r\n        </div>\r\n      );\r\n    });\r\n    return <div>{rows}</div>;\r\n  };\r\n  return (\r\n    <div className=\"ui segments\">\r\n      <div className=\"ui segment\">\r\n        <p>Forecast {data.city.name}</p>\r\n      </div>\r\n\r\n      <div className=\"ui segments\">{renderForecastCard()}</div>\r\n    </div>\r\n  );\r\n};\r\nexport default Forecast;\r\n","import React from \"react\";\r\nimport { Link} from \"react-router-dom\";\r\nimport useLocation from '../hooks/useLocation';\r\n\r\nconst Header = () => {\r\n \r\n  let [lat, lng] = useLocation();\r\n  // if (lat && lng ){\r\n  //   // lat = latprop;\r\n  //   // lng = lngprop;\r\n  //   console.log('HEADER lat lng ',lat, lng)\r\n  // }\r\n  // useEffect(()=>{\r\n  //   console.log('HEADER lat, lng changed', lat, lng)\r\n  // }, [lat, lng])\r\n \r\n \r\n  return (\r\n    <div className=\"ui secondary pointing menu\">\r\n      <Link\r\n        to={{\r\n          pathname: `/${lat}/${lng}`,\r\n          // pathname: `/`,\r\n          \r\n        }}\r\n        className=\"item\">\r\n        Current Weather\r\n      </Link>\r\n\r\n      <Link\r\n        to={{\r\n          pathname: `/forecast/${lat}/${lng}`,\r\n          // pathname: `/forecast/`,\r\n          \r\n        }}\r\n        className=\"item\">\r\n        Forecast\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { HashRouter, Route } from \"react-router-dom\";\r\n\r\nimport CurrentWeather from \"./CurrentWeather\";\r\nimport Forecast from \"./Forecast\";\r\nimport Header from \"./Header\";\r\n\r\nfunction App() {\r\n \r\n\r\n  return (\r\n    <div className=\"App ui container\">\r\n      <HashRouter>\r\n      \r\n        <Header  />\r\n        <Route path=\"/forecast/:lt?/:lg?\" component={Forecast} />\r\n        <Route path=\"/:lt?/:lg?\" exact component={CurrentWeather} />\r\n      </HashRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}